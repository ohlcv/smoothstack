# 仪表盘页面 UI 设计文档

## 功能描述

仪表盘是系统的首页，为用户提供系统整体运行状况的概览，包括账户状态、策略性能、资金曲线、近期交易以及系统通知等关键信息，使用户能够快速掌握系统运行情况。

## 页面结构

```
┌─────────────────────────────────────────────────────────────┐
│ 仪表盘                                                      │
│ 欢迎回来，[用户名]                                           │
├─────────────────────────────────────────────────────────────┤
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────────────────┐ │
│ │ 策略总数 │ │ 账户余额 │ │ 今日盈亏 │ │ 交易状态           │ │
│ │         │ │         │ │         │ │                     │ │
│ │   8     │ │ $3,500  │ │ +$125.50│ │ 7运行中 1暂停       │ │
│ └─────────┘ └─────────┘ └─────────┘ └─────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   资金曲线                              │ │
│ │                                                         │ │
│ │    ^                                                    │ │
│ │    |                              *                     │ │
│ │    |                         *       *                  │ │
│ │    |                    *                               │ │
│ │    |               *                                    │ │
│ │    |          *                                         │ │
│ │    |     *                                              │ │
│ │    |*                                                   │ │
│ │    +------------------------------------------------>   │ │
│ │       [1日] [7日] [30日] [3个月] [全部]   [导出数据]    │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌───────────────────────────┐ ┌───────────────────────────┐ │
│ │     高性能策略            │ │     系统通知              │ │
│ │                           │ │                           │ │
│ │ 1. BTC网格策略  +8.5%     │ │ 系统维护通知              │ │
│ │ 2. ETH网格策略  +6.2%     │ │ 2023-05-25 02:00-04:00    │ │
│ │ 3. SOL网格策略  +4.7%     │ │                           │ │
│ │                           │ │ 新功能上线: 风控设置      │ │
│ │ [查看所有策略]            │ │ 了解更多 >                │ │
│ └───────────────────────────┘ └───────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   近期交易记录                          │ │
│ │                                                         │ │
│ │ 时间             策略名称    交易类型   数量    盈亏    │ │
│ │ 2023-05-20 15:30 BTC网格     买入      0.05    -       │ │
│ │ 2023-05-20 14:15 ETH网格     卖出      0.5     +$25.30 │ │
│ │ 2023-05-20 12:40 SOL网格     买入      5.0     -       │ │
│ │ 2023-05-20 10:20 BTC网格     卖出      0.03    +$18.75 │ │
│ │                                                         │ │
│ │ [查看所有交易记录]                                      │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 功能组件描述

### 1. 页面标题区
- 标题："仪表盘"
- 欢迎信息："欢迎回来，[用户名]"
- 可能包含最后登录时间信息

### 2. 状态概览卡片组
- 四个关键指标卡片，每个包含:
  - 策略总数：用户创建的策略总数
  - 账户余额：当前系统可用余额
  - 今日盈亏：今日净盈亏金额
  - 交易状态：运行中和暂停的策略数量
- 卡片设计:
  - 简洁的数字显示
  - 根据数值变化显示不同颜色(盈利绿色，亏损红色)
  - 鼠标悬停显示更多详情

### 3. 资金曲线图表
- 功能特性:
  - 显示账户价值随时间变化的趋势线
  - 支持多种时间范围切换: 1日、7日、30日、3个月、全部
  - 图表上可显示关键事件点(如策略启动、大额交易等)
  - 导出数据按钮：导出CSV或Excel格式数据
- 交互元素:
  - 时间范围选择按钮组
  - 数据点悬停提示
  - 图表缩放功能
  - 导出按钮

### 4. 高性能策略卡片
- 展示表现最好的3-5个策略
- 每个策略显示:
  - 策略名称
  - 性能数据(如收益率)
  - 绿色正值或红色负值
- 底部"查看所有策略"链接，点击跳转到策略管理页面

### 5. 系统通知卡片
- 显示重要系统通知:
  - 维护计划
  - 新功能上线
  - 重要更新
- 每条通知包含:
  - 通知标题
  - 简短描述
  - "了解更多"链接
- 点击通知可查看完整内容

### 6. 近期交易记录表格
- 表格列:
  - 时间：交易执行时间
  - 策略名称：执行交易的策略
  - 交易类型：买入或卖出
  - 数量：交易数量
  - 盈亏：卖出交易的盈亏金额
- 底部"查看所有交易记录"链接，点击跳转到交易记录页面

## 交互说明

1. **状态卡片交互**
   - 点击卡片可查看相关详细信息
   - 数值变化时有动画效果
   - 鼠标悬停显示详细说明

2. **资金曲线交互**
   - 时间范围按钮组切换不同时间尺度
   - 鼠标悬停在数据点上显示详细信息气泡
   - 支持拖拽查看特定时间段
   - 点击导出按钮可下载数据

3. **高性能策略交互**
   - 点击策略名称进入相应策略详情页
   - 排序按指定时间段的性能排列
   - "查看所有策略"链接到策略管理页面

4. **系统通知交互**
   - 点击通知标题或"了解更多"展开详细内容
   - 未读通知有视觉标识
   - 可标记通知为已读
   - 向右滑动可删除/归档通知

5. **交易记录交互**
   - 点击交易记录行查看详细信息
   - 鼠标悬停高亮显示行
   - "查看所有交易记录"链接到交易记录页面

## 数据需求

1. **仪表盘概览数据结构**
```json
{
  "strategies_count": 8,
  "account_balance": 3500.00,
  "today_profit_loss": 125.50,
  "strategies_status": {
    "running": 7,
    "paused": 1,
    "stopped": 0
  },
  "last_login": "2023-05-20T09:30:15Z"
}
```

2. **资金曲线数据结构**
```json
{
  "balance_history": [
    {
      "timestamp": "2023-05-01T00:00:00Z",
      "balance": 3000.00,
      "events": []
    },
    {
      "timestamp": "2023-05-02T00:00:00Z",
      "balance": 3050.25,
      "events": [
        {
          "type": "strategy_start",
          "strategy_id": "strategy-uuid",
          "strategy_name": "BTC网格策略"
        }
      ]
    }
    // 更多数据点...
  ],
  "time_range": "30d"
}
```

3. **高性能策略数据结构**
```json
{
  "top_strategies": [
    {
      "id": "strategy-uuid",
      "name": "BTC网格策略",
      "performance": 8.5,
      "time_range": "30d"
    }
    // 更多策略...
  ]
}
```

4. **系统通知数据结构**
```json
{
  "notifications": [
    {
      "id": "notification-uuid",
      "title": "系统维护通知",
      "content": "2023-05-25 02:00-04:00",
      "type": "maintenance",
      "is_read": false,
      "created_at": "2023-05-20T08:00:00Z",
      "action_url": "/notifications/details/notification-uuid"
    }
    // 更多通知...
  ]
}
```

5. **近期交易记录数据结构**
```json
{
  "recent_trades": [
    {
      "id": "trade-uuid",
      "timestamp": "2023-05-20T15:30:00Z",
      "strategy_id": "strategy-uuid",
      "strategy_name": "BTC网格策略",
      "type": "buy",
      "amount": 0.05,
      "price": 27500.00,
      "profit_loss": null
    }
    // 更多交易记录...
  ]
}
```

## 状态管理

- 仪表盘数据状态：包括加载状态、错误状态、数据更新时间
- 资金曲线状态：当前选中的时间范围、图表缩放状态
- 通知状态：已读/未读状态

## 响应式设计考虑

- 桌面端：多列布局，完整图表展示
- 平板端：双列布局，卡片重排
- 移动端：单列布局，简化图表，优先显示关键指标

## 特殊考虑

- 数据实时更新机制
- 高性能图表渲染
- 首次加载优化
- 自定义仪表盘布局（高级功能）
- 数据导出格式和选项