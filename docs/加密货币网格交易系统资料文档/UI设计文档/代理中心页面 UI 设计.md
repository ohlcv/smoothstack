# 代理中心页面 UI 设计文档

## 功能描述

代理中心页面提供给代理用户管理下线用户及佣金的专属功能区，包括代理概览、下线用户管理、佣金记录查询及代理设置等功能，帮助代理用户高效管理自己的代理业务。

## 页面结构

```
┌─────────────────────────────────────────────────────────────┐
│ 代理中心                                                    │
│ 管理您的下线用户和佣金                                       │
├─────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   标签页导航                            │ │
│ │ [概览] [下线用户] [佣金记录] [代理设置]                  │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ <!-- 概览标签页内容 -->                                     │
│ ┌───────────────┐ ┌───────────────┐ ┌───────────────────┐ │
│ │   返佣比例    │ │   下线用户    │ │   总佣金收入      │ │
│ │               │ │               │ │                   │ │
│ │     10%       │ │     25        │ │    $350.75       │ │
│ │               │ │  活跃用户: 18 │ │  本期佣金: $45.30 │ │
│ │ 邀请码:       │ │               │ │                   │ │
│ │ AGENT123 [复制]│ │               │ │                   │ │
│ └───────────────┘ └───────────────┘ └───────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   邀请链接                              │ │
│ │                                                         │ │
│ │ 分享您的专属链接邀请更多用户                            │ │
│ │ [https://gridtrader.com/ref/AGENT123]      [复制]      │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   佣金走势                              │ │
│ │                                                         │ │
│ │ [最近6个月 ▼]                                           │ │
│ │                                                         │ │
│ │    ^                                                    │ │
│ │ $80|                                                    │ │
│ │    |                        ▓                           │ │
│ │ $60|                  ▓     ▓                           │ │
│ │    |            ▓     ▓     ▓     ▓                    │ │
│ │ $40|      ▓     ▓     ▓     ▓     ▓                    │ │
│ │    |▓     ▓     ▓     ▓     ▓     ▓     ▓        ▓     │ │
│ │ $20|▓     ▓     ▓     ▓     ▓     ▓     ▓     ▓  ▓     │ │
│ │    |▓     ▓     ▓     ▓     ▓     ▓     ▓     ▓  ▓     │ │
│ │  $0+--------------------------------------------------  │ │
│ │     一月  二月  三月  四月  五月  六月  七月  八月 九月 │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ <!-- 下线用户标签页内容 -->                                 │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   筛选工具栏                            │ │
│ │                                                         │ │
│ │ [搜索用户...] [状态: 全部 ▼] [注册时间: 全部 ▼] [排序 ▼] │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌───────────────────────┐ ┌───────────────────────────────┐ │
│ │                       │ │                               │ │
│ │   下线用户列表        │ │   用户详情                    │ │
│ │   25位用户            │ │                               │ │
│ │                       │ │ [JD]  John Doe               │ │
│ │ [JD] John Doe  活跃   │ │ john.doe@example.com         │ │
│ │                       │ │ 注册时间: 2023-01-15         │ │
│ │ [AW] Alice Wang 活跃  │ │                               │ │
│ │                       │ │ 策略数量    交易量     生成佣金│ │
│ │ [RC] Robert Chen 不活跃│ │    5       $8,500     $125.50│ │
│ │                       │ │ 3个活跃中                     │ │
│ │ [SL] Sarah Lee  活跃  │ │                               │ │
│ │                       │ │ [交易记录] [返佣记录]          │ │
│ │                       │ │                               │ │
│ │                       │ │ 时间        策略     交易类型 │ │
│ │                       │ │ 2023-05-15  BTC网格   买入    │ │
│ │                       │ │ 2023-05-15  ETH网格   卖出    │ │
│ │                       │ │ 2023-05-16  BTC网格   买入    │ │
│ │                       │ │ 2023-05-16  SOL网格   卖出    │ │
│ │                       │ │                               │ │
│ │ [< 1 2 3 >]           │ │                               │ │
│ └───────────────────────┘ └───────────────────────────────┘ │
│                                                             │
│ <!-- 佣金记录标签页和代理设置标签页内容类似 -->             │
└─────────────────────────────────────────────────────────────┘
```

## 功能组件描述

### 1. 页面标题区
- 标题："代理中心"
- 副标题："管理您的下线用户和佣金"

### 2. 标签页导航
- 标签页组件，包含四个选项卡：
  - 概览（默认选中）
  - 下线用户
  - 佣金记录
  - 代理设置
- 当前选中的标签页底色突出显示
- 点击切换不同内容区域

### 3. 概览标签页
#### 3.1 状态卡片组
- 三个关键指标卡片：
  - 返佣比例：显示当前代理返佣比例和邀请码
  - 下线用户：显示下线用户总数和活跃用户数
  - 总佣金收入：显示累计佣金和当期佣金
- 邀请码复制功能：点击复制按钮复制邀请码

#### 3.2 邀请链接卡片
- 显示个人专属邀请链接
- 提示文字说明链接用途
- 复制按钮：点击复制完整链接

#### 3.3 佣金走势图表
- 柱状图展示不同时期的佣金收入
- 时间范围下拉选择：最近3个月、6个月、1年等
- X轴：时间（月份）
- Y轴：佣金金额
- 图表标题和图例

### 4. 下线用户标签页
#### 4.1 筛选工具栏
- 搜索框：按用户名或邮箱搜索
- 状态筛选：全部、活跃、不活跃
- 注册时间筛选：全部、最近7天、30天、90天等
- 排序选项：注册时间、活跃度、交易量等

#### 4.2 下线用户列表
- 用户列表项包含：
  - 用户头像/缩写
  - 用户名
  - 状态标签（活跃/不活跃）
- 当前选中用户高亮显示
- 分页控件：底部页码导航

#### 4.3 用户详情面板
- 用户基本信息：
  - 头像/缩写
  - 用户名
  - 邮箱
  - 注册时间
- 用户数据统计：
  - 策略数量
  - 交易量
  - 生成佣金
- 内部标签页：
  - 交易记录标签页：显示用户近期交易
  - 返佣记录标签页：显示相关佣金记录

### 5. 佣金记录标签页
- 筛选功能：时间范围、金额范围、状态等
- 佣金记录表格：
  - 时间
  - 来源用户
  - 交易ID
  - 金额
  - 状态
- 汇总统计数据
- 导出功能

### 6. 代理设置标签页
- 代理信息设置
- 邀请链接自定义
- 通知设置
- 佣金提现设置

## 交互说明

1. **标签页切换交互**
   - 点击标签页切换不同内容区域
   - 无页面刷新，使用AJAX加载内容
   - 标签页状态保存在URL中，支持直接访问

2. **邀请码和链接交互**
   - 点击复制按钮将文本复制到剪贴板
   - 复制成功后显示提示消息
   - 长按链接提供分享选项（移动端）

3. **佣金走势图表交互**
   - 时间范围选择下拉菜单
   - 鼠标悬停显示详细数据
   - 缩放和平移功能（可选）
   - 导出图表数据（可选）

4. **下线用户管理交互**
   - 点击用户列表项选中用户
   - 右侧详情面板更新显示
   - 搜索和筛选实时更新列表
   - 分页导航无刷新加载

5. **详情面板内部标签交互**
   - 点击交易记录/返佣记录标签切换内容
   - 表格支持排序和简单筛选
   - 详情链接查看完整信息

## 数据需求

1. **代理概览数据结构**
```json
{
  "commission_rate": 10,
  "invitation_code": "AGENT123",
  "referral_link": "https://gridtrader.com/ref/AGENT123",
  "total_referrals": 25,
  "active_referrals": 18,
  "total_commission": 350.75,
  "current_period_commission": 45.30,
  "commission_history": [
    {
      "period": "2023-01",
      "amount": 30.50
    },
    {
      "period": "2023-02",
      "amount": 45.75
    }
    // 更多历史数据...
  ]
}
```

2. **下线用户数据结构**
```json
{
  "referrals": [
    {
      "id": "user-uuid",
      "username": "John Doe",
      "email": "john.doe@example.com",
      "avatar": null,
      "initials": "JD",
      "status": "active",
      "registration_date": "2023-01-15T10:30:00Z",
      "last_active": "2023-05-20T14:25:30Z",
      "stats": {
        "strategies_count": 5,
        "active_strategies": 3,
        "trading_volume": 8500.00,
        "generated_commission": 125.50
      }
    }
    // 更多用户...
  ],
  "pagination": {
    "current_page": 1,
    "total_pages": 3,
    "total_items": 25,
    "items_per_page": 10
  }
}
```

3. **用户交易记录数据结构**
```json
{
  "user_id": "user-uuid",
  "trades": [
    {
      "id": "trade-uuid",
      "time": "2023-05-15T14:30:00Z",
      "strategy_name": "BTC网格策略",
      "type": "buy",
      "amount": 500.00,
      "profit_loss": 25.00,
      "commission": 1.25
    }
    // 更多交易记录...
  ]
}
```

## 状态管理

- 标签页状态：当前选中的标签页
- 用户列表状态：搜索关键字、筛选条件、排序方式、分页信息
- 选中用户状态：当前选中的用户ID
- 详情面板状态：当前显示的详情标签页

## 响应式设计考虑

- 桌面端：左侧用户列表，右侧详情面板的双栏布局
- 平板端：可切换的列表/详情视图
- 移动端：
  - 概览页简化图表
  - 用户列表和详情分页显示
  - 卡片式布局替代表格

## 特殊考虑

- 隐私和数据保护（不显示下线用户的完整敏感信息）
- 佣金计算规则的透明度
- 邀请链接的跟踪和分析
- 用户活跃度的定义和计算
- 可扩展的佣金体系（支持多级代理）
- 数据导出和报表功能