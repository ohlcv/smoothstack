# 用户中心-个人资料页面 UI 设计文档

## 页面结构

```
┌─────────────────────────────────────────────────────────────┐
│ 用户中心                                                    │
│ 管理您的个人资料和账户设置                                    │
├─────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   标签页导航                            │ │
│ │ [个人资料] [API密钥] [账户余额] [偏好设置]               │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   用户头像区域                          │ │
│ │                                                         │ │
│ │     [头像]                                              │ │
│ │     [更改头像]                                          │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   个人信息表单                          │ │
│ │ 用户名                                                  │ │
│ │ [用户名输入框]                                          │ │
│ │                                                         │ │
│ │ 性别                        电子邮箱                    │ │
│ │ [性别选择框]                [邮箱输入框]                │ │
│ │                                                         │ │
│ │ 手机号码                                                │ │
│ │ [手机号输入框]                                          │ │
│ │                                                         │ │
│ │ [保存修改]                                              │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 功能组件描述

### 1. 页面标题区
- 标题："用户中心"
- 副标题："管理您的个人资料和账户设置"

### 2. 标签页导航
- 标签页组件，包含四个选项卡：
  - 个人资料（当前选中状态）
  - API密钥
  - 账户余额
  - 偏好设置
- 当前选中的标签页底色突出显示
- 切换标签页无需页面刷新（AJAX加载内容）

### 3. 用户头像区域
- 用户头像显示：
  - 圆形大头像显示
  - 默认使用用户名首字母作为占位符
  - 支持上传自定义头像
- 更改头像按钮：
  - 点击后弹出上传对话框
  - 支持图片裁剪功能

### 4. 个人信息表单
- 表单包含以下字段：
  - 用户名：文本输入框，显示当前用户名
  - 性别：下拉选择框，选项包括"男"、"女"、"未知"
  - 电子邮箱：邮箱格式文本框，显示当前邮箱
  - 手机号码：电话号码输入框，支持国际格式
- 保存修改按钮：
  - 蓝色主色调按钮
  - 点击后提交表单数据
  - 显示保存成功/失败提示

## 交互说明

1. **标签页切换**
   - 点击不同标签页时，内容区域平滑切换
   - 状态保持在URL中，支持直接访问特定标签页
   - 切换前若有未保存数据，显示确认对话框

2. **头像上传**
   - 支持拖拽上传
   - 上传后提供简单的裁剪功能
   - 预览头像效果
   - 支持的格式：JPG、PNG、GIF
   - 文件大小限制：2MB

3. **表单交互**
   - 输入字段实时验证
   - 错误提示显示在相应字段下方
   - 表单字段支持自动完成
   - 保存按钮状态响应表单有效性

4. **保存操作**
   - 点击保存后显示加载状态
   - 保存成功显示成功提示消息
   - 保存失败显示具体错误原因
   - 可撤销的操作提供撤销选项

## 数据需求

1. **用户个人资料数据结构**
```json
{
  "username": "John Doe",
  "avatar": "https://example.com/avatars/user123.jpg",
  "gender": "male",
  "email": "john.doe@example.com",
  "phone": "+86 138 **** 5678",
  "register_time": "2022-05-15T10:30:00Z",
  "last_login": "2023-05-20T14:25:30Z"
}
```

## 状态管理

- 表单状态：包括初始值、当前值、验证状态
- 保存状态：未修改、已修改未保存、保存中、保存成功、保存失败
- 头像上传状态：选择文件、裁剪中、上传中、上传成功/失败

## 响应式设计考虑

- 桌面端：双列表单布局
- 平板端：双列或单列表单（根据屏幕宽度自动调整）
- 移动端：单列表单，字段垂直排列

## 特殊考虑

- 邮箱更改可能需要验证流程
- 手机号更改可能需要验证码确认
- 用户名更改可能有限制条件（唯一性检查）
- 支持无障碍操作
- 国际化支持（多语言）