# 策略详情页面 UI 设计文档（修订版）

## 功能描述

策略详情页面展示单个策略的详细信息，包括基本参数、性能数据、交易记录、配置设置等，让用户能够全面了解和管理特定策略的运行状况。设计灵活适配不同类型的策略，包括但不限于网格交易策略。

## 页面整体框架

```
┌─────────────────────────────────────────────────────────────┐
│ 策略管理 / BTC网格策略                                      │
├─────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   策略基本信息                          │ │
│ │                                                         │ │
│ │ BTC网格策略                               状态: 运行中   │ │
│ │ 策略ID: GS789012 • 创建时间: 2023-01-15    [编辑] [停止] │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   策略参数卡片                          │ │
│ │                                                         │ │
│ │  交易类型    策略类型        投资金额                    │ │
│ │  现货做多    网格策略      $1,000                       │ │
│ │                                                         │ │
│ │  交易所        杠杆倍数     当前价格                    │ │
│ │  Binance           10X    $45,250                     │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   标签页导航                            │ │
│ │ [交易记录] [统计数据] [策略设置] [风控设置] [持仓明细]   │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ <!-- 各标签页内容区域 -->                                   │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   标签页内容                            │ │
│ │                                                         │ │
│ │ <!-- 这里显示当前选中标签页的内容 -->                   │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 交易记录标签页（修订版）

```
┌─────────────────────────────────────────────────────────────┐
│                     交易记录                                │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                  筛选与工具栏                           │ │
│ │                                                         │ │
│ │ [开平: 全部 ▼] [方向: 全部 ▼] [状态: 全部 ▼] [搜索框]   │ │
│ │                                                         │ │
│ │ 时间范围: [开始日期] 至 [结束日期]           [导出CSV]  │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   交易记录表格                          │ │
│ │                                                         │ │
│ │ 时间 | 开平 | 方向 | 价格 | 数量 | 张数 | 价值 | 手续费 | 系统费 | 备注 │
│ │ 2023-05-16 14:30 | 开仓 | 多 | $42,500 | 0.02 | 2 | $850 | $0.85 | $1.28 | 网格3 │
│ │ 2023-05-15 21:15 | 平仓 | 多 | $43,200 | 0.015 | 1 | $648 | $0.65 | $0.97 | 网格2 │
│ │ 2023-05-15 15:30 | 开仓 | 多 | $41,800 | 0.024 | 2 | $1,003 | $1.00 | $1.50 | 网格4 │
│ │ 2023-05-15 09:45 | 平仓 | 多 | $44,500 | 0.018 | 2 | $801 | $0.80 | $1.20 | 网格1 │
│ │                                                         │ │
│ │                   [< 1 2 3 4 >]                        │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   交易详情                              │ │
│ │                                                         │ │
│ │ 交易ID: TX78901234                状态: 已完成          │ │
│ │                                                         │ │
│ │ 交易信息:                       订单详情:               │ │
│ │ 时间: 2023-05-16 14:30:25       订单ID: OR45678901     │ │
│ │ 开平: 开仓                      订单类型: 限价单        │ │
│ │ 方向: 做多                      交易所: Binance         │ │
│ │ 交易对: BTC/USDT               手续费: $0.85           │ │
│ │ 价格: $42,500                  系统费: $1.28           │ │
│ │ 数量: 0.02 BTC                                          │ │
│ │ 张数: 2张                                               │ │
│ │ 价值: $850.00                                           │ │
│ │ 备注: 网格层级3                                         │ │
│ │ 触发原因: 网格触发                                      │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 功能组件描述 - 交易记录标签页

#### 1. 筛选与工具栏
- 开平筛选：全部/开仓/平仓下拉菜单
- 方向筛选：全部/多/空下拉菜单
- 状态筛选：全部/已完成/处理中/失败下拉菜单
- 搜索框：支持按交易ID或其他字段搜索
- 时间范围选择器：开始日期和结束日期
- 导出CSV按钮：导出筛选后的交易记录

#### 2. 交易记录表格
- 表格列（完整详细）：
  - 时间：交易执行的日期和时间
  - 开平：开仓或平仓
  - 方向：做多或做空
  - 价格：成交价格
  - 数量：交易数量（加密货币数量）
  - 张数：合约张数
  - 价值：交易总价值（币种数量×价格）
  - 手续费：交易所收取的手续费
  - 系统费：平台收取的系统费用
  - 备注：附加信息，如网格层级等
- 分页控件：底部的页码导航

#### 3. 交易详情面板
- 选中某条交易记录时显示
- 包含完整的交易信息：
  - 交易ID和状态
  - 详细的交易信息（时间、开平、方向、价格、数量、张数、价值等）
  - 订单详情（订单ID、类型、交易所、费用等）
  - 备注：说明交易相关的附加信息
  - 触发原因：说明交易触发的原因

## 统计数据标签页（修订版）

```
┌─────────────────────────────────────────────────────────────┐
│                     统计数据                                │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   时间筛选                              │ │
│ │                                                         │ │
│ │ 选择时间范围: [最近7天 ▼]    自定义: [开始日期] 至 [结束日期] │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   关键指标                              │ │
│ │                                                         │ │
│ │  总收益        总收益率       交易次数       成功率      │ │
│ │  $127.50      +12.75%          47          87.5%       │ │
│ │                                                         │ │
│ │  开仓次数      平仓次数      平均持仓时间   最大回撤    │ │
│ │     25           22           18.5小时     -3.2%       │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   资金曲线                              │ │
│ │                                                         │ │
│ │ $1,150 │                                         *      │ │
│ │        │                                   *           │ │
│ │ $1,100 │                         *    *                │ │
│ │        │                    *                          │ │
│ │ $1,050 │             *                                 │ │
│ │        │        *                                      │ │
│ │ $1,000 │   *                                           │ │
│ │        └─────────────────────────────────────────────  │ │
│ │          5/1  5/5  5/10  5/15  5/20  5/25  5/30       │ │
│ │                                                         │ │
│ │    [显示买入点] [显示卖出点] [显示关键事件]    [下载图表] │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   性能指标                              │ │
│ │                                                         │ │
│ │   沏夏比率         收益波动率         年化收益          │ │
│ │     1.8              15.2%             85.3%           │ │
│ │                                                         │ │
│ │   盈利因子         最大连续盈利       最大连续亏损      │ │
│ │     2.5               8笔              3笔             │ │
│ │                                                         │ │
│ │   风险收益比       最大资金利用率     平均交易频率      │ │
│ │     2.3              85%              4.2笔/天         │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 功能组件描述 - 统计数据标签页

#### 1. 时间筛选
- 预设时间范围下拉菜单：最近7天、30天、90天、全部等
- 自定义日期范围：开始日期和结束日期选择器
- 筛选后自动更新下方所有统计数据和图表

#### 2. 关键指标卡片
- 总收益：所选时间范围内的总盈亏金额
- 总收益率：总收益相对于初始投资的百分比
- 交易次数：所选时间范围内的交易总笔数
- 成功率：盈利交易占总交易的百分比
- 开仓次数和平仓次数：分类统计
- 平均持仓时间：平均每笔交易的持有时间
- 最大回撤：所选时间范围内的最大资金回撤百分比

#### 3. 资金曲线图表
- 显示账户价值随时间的变化趋势
- X轴：时间（基于所选时间范围自动调整刻度）
- Y轴：账户价值
- 可选显示买入点、卖出点和关键事件
- 下载图表按钮：保存图表为图片或数据

#### 4. 性能指标卡片
- 沏夏比率：风险调整后收益指标
- 收益波动率：收益的标准差
- 年化收益：按年计算的收益率
- 盈利因子：平均盈利除以平均亏损
- 最大连续盈利和亏损次数
- 风险收益比：收益与风险的比率
- 最大资金利用率：策略使用的最大资金比例
- 平均交易频率：每天平均交易次数

## 策略设置标签页（维持原设计）

```
┌─────────────────────────────────────────────────────────────┐
│                     策略设置                                │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   策略总体配置                          │ │
│ │                                                         │ │
│ │ 交易对: [BTC/USDT ▼]           策略名称: [BTC网格策略]  │ │
│ │                                                         │ │
│ │ 价格范围:                                               │ │
│ │ 上限价格: [$50,000]     下限价格: [$40,000]            │ │
│ │                                                         │ │
│ │ 网格类型: [等距 ▼]       网格数量: [10]                │ │
│ │                                                         │ │
│ │ 投资金额: [$1,000]       杠杆倍数: [10X ▼]             │ │
│ │                                                         │ │
│ │                                          [更新配置]     │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   网格层级设置                          │ │
│ │                                                         │ │
│ │ [层级▼] [价格区间▼] [开仓间距▼] [反弹比例▼] [止盈比例▼] [张数▼] [状态▼] [操作] │
│ │  1    48k-50k     1.0%       0.5%       1.0%      2     已开仓  -    │
│ │  2    46k-48k     1.0%       0.5%       1.0%      2     已开仓  -    │
│ │  3    44k-46k     1.0%       0.5%       1.0%      2     待止盈  -    │
│ │  4    42k-44k     1.0%       0.5%       1.0%      2     待开仓 [编辑] │
│ │  5    40k-42k     1.0%       0.5%       1.0%      2     未开仓 [编辑] │
│ │                                                         │ │
│ │ [+ 添加网格层级]                                        │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   网格可视化                            │ │
│ │                                                         │ │
│ │ $50,000 ┌────────────────────────────────────────┐      │ │
│ │         │ ← 层级1 (已开仓)                       │      │ │
│ │ $48,000 ├────────────────────────────────────────┤      │ │
│ │         │ ← 层级2 (已开仓)                       │      │ │
│ │ $46,000 ├────────────────────────────────────────┤      │ │
│ │         │ ← 层级3 (待止盈)                       │      │ │
│ │ $44,000 ├────────────────────────────────────────┤      │ │
│ │         │ ← 层级4 (待开仓)   ← 当前价格: $43,250  │      │ │
│ │ $42,000 ├────────────────────────────────────────┤      │ │
│ │         │ ← 层级5 (未开仓)                       │      │ │
│ │ $40,000 └────────────────────────────────────────┘      │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 风控设置标签页（修订版）

```
┌─────────────────────────────────────────────────────────────┐
│                     风控设置                                │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   风控条件列表                          │ │
│ │                                                         │ │
│ │ [开关] [权重] [开平] [方向] [范围] [指标] [条件] [阈值] [状态] [操作] │
│ │  ✓     1     开仓   做多  当前层  价格   大于   1%    启用  [删除] │
│ │  ✓     1     平仓   止损  全部层  金额   大于   100   启用  [删除] │
│ │  ✓     1     开仓   做空  全部层  CCI    小于   120   启用  [删除] │
│ │  ✓     1     平仓   止损  全部层  自定义  大于   1     启用  [删除] │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   添加风控条件                          │ │
│ │                                                         │ │
│ │ 权重     操作     方向     范围     指标     条件    阈值 │ │
│ │ [1 ▼]  [开仓 ▼]  [做多 ▼] [当前层 ▼] [均价 ▼] [大于 ▼] [1%] │
│ │                                                         │ │
│ │               [+ 添加条件]                              │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   组合条件规则                          │ │
│ │                                                         │ │
│ │ 触发逻辑: [任一条件满足 ▼]         优先级: [权重优先 ▼] │ │
│ │                                                         │ │
│ │ 风控动作: [停止策略 ▼]           确认方式: [自动执行 ▼] │ │
│ │                                                         │ │
│ │                      [保存风控设置]                     │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   风控说明                              │ │
│ │                                                         │ │
│ │ • 权重范围1-4，用于多个风控条件组合时的权重计算         │ │
│ │ • 操作类型：开仓或平仓，表示该条件适用于哪种操作        │ │
│ │ • 方向：开仓时为做多/做空，平仓时为止盈/止损           │ │
│ │ • 范围：当前层或全部层，指定条件影响的网格层级范围      │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 功能组件描述 - 风控设置标签页

#### 1. 风控条件列表
- 表格列：
  - 开关：启用/禁用条件的开关
  - 权重：条件权重（1-4）
  - 开平：开仓或平仓
  - 方向：做多/做空或止盈/止损
  - 范围：条件适用的范围（当前层/全部层）
  - 指标：价格、金额、技术指标等
  - 条件：大于、小于、等于、介于等
  - 阈值：触发值
  - 状态：启用/禁用
  - 操作：删除按钮

#### 2. 添加风控条件区域
- 表单行，包含多个输入选择器：
  - 权重下拉选择器
  - 操作（开仓/平仓）下拉选择器
  - 方向下拉选择器
  - 范围下拉选择器
  - 指标下拉选择器
  - 条件下拉选择器
  - 阈值输入框
- 添加条件按钮：点击添加新条件到列表

#### 3. 组合条件规则
- 触发逻辑：任一条件满足/所有条件满足/自定义组合
- 优先级：权重优先/时间优先等选项
- 风控动作：停止策略/暂停策略/仅通知等选项
- 确认方式：自动执行/手动确认选项
- 保存风控设置按钮：保存所有风控规则

#### 4. 风控说明
- 解释风控设置的各项参数含义
- 提供最佳实践建议
- 使用要点的说明列表

## 持仓明细标签页（维持原设计）

```
┌─────────────────────────────────────────────────────────────┐
│                     持仓明细                                │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   持仓概览                              │ │
│ │                                                         │ │
│ │ 当前持仓量: 0.0245 BTC       持仓成本: $42,350/BTC     │ │
│ │ 折合金额: $1,057.63         未实现盈亏: +$57.63 (+5.76%)│ │
│ │ 已实现盈亏: +$127.50        总盈亏: +$185.13 (+18.51%) │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   当前持仓详情                          │ │
│ │                                                         │ │
│ │ 网格层级 | 开仓时间      | 开仓价格  | 数量   | 当前盈亏 | │
│ │ 层级 3   | 2023-05-16 14:30 | $42,500 | 0.02  | +$15.00 | │
│ │ 层级 4   | 2023-05-15 15:30 | $41,800 | 0.0045 | +$6.53 | │
│ │                                                         │ │
│ │ 合计: 0.0245 BTC                          +$21.53      │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                   平仓历史                              │ │
│ │                                                         │ │
│ │ 时间        | 网格层级 | 开仓价格 | 平仓价格 | 数量  | 盈亏 | │
│ │ 2023-05-15 21:15 | 层级 2 | $42,300 | $43,200 | 0.015 | +$13.50 | │
│ │ 2023-05-15 09:45 | 层级 1 | $43,500 | $44,500 | 0.018 | +$18.00 | │
│ │ 2023-05-14 16:20 | 层级 3 | $42,100 | $43,000 | 0.012 | +$10.80 | │
│ │                                                         │ │
│ │                   [< 1 2 3 >]                          │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 功能组件描述 - 持仓明细标签页

#### 1. 持仓概览
- 当前持仓量：当前持有的加密货币数量
- 持仓成本：平均持仓成本
- 折合金额：当前持仓总价值
- 未实现盈亏：持仓部分的当前盈亏（金额和百分比）
- 已实现盈亏：已平仓部分的盈亏
- 总盈亏：未实现和已实现盈亏的总和

#### 2. 当前持仓详情
- 表格展示当前所有持仓：
  - 网格层级：对应的网格层级
  - 开仓时间：持仓建立时间
  - 开仓价格：建仓价格
  - 数量：持仓数量
  - 当前盈亏：基于当前市场价格的盈亏
- 底部显示合计信息

#### 3. 平仓历史
- 表格展示已平仓交易历史：
  - 时间：平仓时间
  - 网格层级：对应的网格层级
  - 开仓价格：建仓价格
  - 平仓价格：平仓价格
  - 数量：交易数量
  - 盈亏：该笔交易的盈亏
- 分页控件：底部页码导航

# 策略详情页面 UI 设计（修订版）- 续

## 交互说明（续）

3. **表格交互体验**
   - 所有表格支持点击列头排序
   - 交易记录表格支持点击行展开详情
   - 表格支持智能分页和快速跳转
   - 大数据量时采用虚拟滚动提高性能

4. **策略操作交互**
   - 页面顶部的策略操作按钮（编辑、停止）有确认机制
   - 停止策略弹出确认对话框，说明可能的影响
   - 编辑策略跳转到策略编辑页面

5. **网格层级设置交互**
   - 可编辑状态的网格层支持内联编辑
   - 编辑操作实时验证输入数据
   - 新增网格层提供默认值，基于现有设置
   - 网格可视化与表格数据同步变化

6. **风控设置交互**
   - 添加风控条件时，动态调整可用选项（如方向根据开平调整）
   - 条件编辑有实时验证
   - 保存设置时全面验证规则合理性
   - 开关切换有即时反馈效果

7. **导出功能交互**
   - 交易记录导出支持选择列和格式
   - 统计数据图表导出支持图片和数据格式
   - 导出过程显示进度指示
   - 大数据量时提供后台任务处理选项

## 数据需求

1. **策略基本信息数据结构**
```json
{
  "id": "GS789012",
  "name": "BTC网格策略",
  "status": "running",
  "created_at": "2023-01-15T10:30:00Z",
  "type": "grid",
  "direction": "long",
  "trading_pair": "BTC/USDT",
  "exchange": "binance",
  "investment": 1000.00,
  "leverage": 10,
  "current_price": 45250.00
}
```

2. **交易记录数据结构**
```json
{
  "trades": [
    {
      "id": "TX78901234",
      "timestamp": "2023-05-16T14:30:25Z",
      "type": "open",
      "direction": "long",
      "price": 42500.00,
      "amount": 0.02,
      "contracts": 2,
      "value": 850.00,
      "fee": 0.85,
      "system_fee": 1.28,
      "status": "completed",
      "order_id": "OR45678901",
      "order_type": "limit",
      "trigger": "grid",
      "note": "网格3",
      "exchange": "binance"
    }
  ],
  "pagination": {
    "current_page": 1,
    "total_pages": 4,
    "total_items": 47,
    "items_per_page": 15
  }
}
```

3. **统计数据数据结构**
```json
{
  "time_range": {
    "start": "2023-05-01T00:00:00Z",
    "end": "2023-05-31T23:59:59Z"
  },
  "key_metrics": {
    "total_profit": 127.50,
    "total_profit_rate": 12.75,
    "trades_count": 47,
    "win_rate": 87.5,
    "open_trades": 25,
    "close_trades": 22,
    "avg_holding_time": 18.5, // 小时
    "max_drawdown": 3.2
  },
  "balance_history": [
    {
      "timestamp": "2023-05-01T00:00:00Z",
      "balance": 1000.00,
      "events": []
    },
    {
      "timestamp": "2023-05-05T00:00:00Z",
      "balance": 1025.00,
      "events": [
        {
          "type": "trade",
          "trade_id": "TX12345678",
          "profit": 25.00
        }
      ]
    }
    // 更多数据点...
  ],
  "performance_metrics": {
    "sharpe_ratio": 1.8,
    "volatility": 15.2,
    "annual_return": 85.3,
    "profit_factor": 2.5,
    "max_consecutive_wins": 8,
    "max_consecutive_losses": 3,
    "risk_reward_ratio": 2.3,
    "max_capital_usage": 85,
    "avg_trades_per_day": 4.2
  }
}
```

4. **网格设置数据结构**
```json
{
  "grid_settings": {
    "trading_pair": "BTC/USDT",
    "strategy_name": "BTC网格策略",
    "upper_price": 50000.00,
    "lower_price": 40000.00,
    "grid_type": "arithmetic",
    "grid_count": 10,
    "investment": 1000.00,
    "leverage": 10
  },
  "grid_levels": [
    {
      "id": "grid-level-1",
      "level": 1,
      "price_range": {
        "upper": 50000.00,
        "lower": 48000.00
      },
      "interval_percent": 1.0,
      "rebound_percent": 0.5,
      "take_profit_percent": 1.0,
      "contracts": 2,
      "status": "filled",
      "is_editable": false
    },
    // 更多网格层...
  ],
  "current_price": 43250.00
}
```

5. **风控设置数据结构**
```json
{
  "risk_controls": [
    {
      "id": "risk-control-1",
      "enabled": true,
      "weight": 1,
      "action_type": "open",
      "direction": "long",
      "scope": "current_level",
      "indicator": "price",
      "condition": "greater_than",
      "threshold": 1.0,
      "status": "active"
    }
    // 更多风控条件...
  ],
  "rule_settings": {
    "trigger_logic": "any",
    "priority": "weight",
    "action": "stop_strategy",
    "confirmation": "auto"
  }
}
```

6. **持仓明细数据结构**
```json
{
  "position_overview": {
    "amount": 0.0245,
    "average_cost": 42350.00,
    "value": 1057.63,
    "unrealized_pnl": 57.63,
    "unrealized_pnl_percent": 5.76,
    "realized_pnl": 127.50,
    "total_pnl": 185.13,
    "total_pnl_percent": 18.51
  },
  "current_positions": [
    {
      "grid_level": 3,
      "open_time": "2023-05-16T14:30:25Z",
      "open_price": 42500.00,
      "amount": 0.02,
      "current_pnl": 15.00
    },
    {
      "grid_level": 4,
      "open_time": "2023-05-15T15:30:00Z",
      "open_price": 41800.00,
      "amount": 0.0045,
      "current_pnl": 6.53
    }
  ],
  "closed_positions": [
    {
      "close_time": "2023-05-15T21:15:00Z",
      "grid_level": 2,
      "open_price": 42300.00,
      "close_price": 43200.00,
      "amount": 0.015,
      "pnl": 13.50
    }
    // 更多平仓历史...
  ],
  "pagination": {
    "current_page": 1,
    "total_pages": 3,
    "items_per_page": 10
  }
}
```

## 状态管理

1. **全局策略状态**
   - 策略基本信息加载状态
   - 策略运行状态：运行中、暂停、已停止
   - 当前操作状态：正常、编辑中、保存中

2. **交易记录状态**
   - 筛选和排序状态
   - 数据加载状态
   - 选中行状态
   - 详情展开状态
   - 分页状态

3. **统计数据状态**
   - 时间范围选择状态
   - 数据加载状态
   - 图表交互状态：显示买卖点、事件、缩放级别

4. **策略设置状态**
   - 总体配置表单状态：初始值、当前值、验证状态
   - 网格层级编辑状态
   - 提交状态：未修改、已修改未保存、保存中、保存成功

5. **风控设置状态**
   - 条件列表状态
   - 添加/编辑条件状态
   - 触发规则状态
   - 保存状态：未修改、已修改未保存、保存中、保存成功

6. **持仓明细状态**
   - 数据加载状态
   - 平仓历史分页状态

## 响应式设计考虑

1. **桌面端（宽屏）**
   - 完整多列布局
   - 高度详细的表格和图表
   - 标签页内容完整展示
   - 并排的卡片和面板

2. **平板电脑**
   - 部分内容改为垂直排列
   - 表格可横向滚动
   - 面板可折叠
   - 保持关键功能可见

3. **移动设备**
   - 单列布局
   - 简化表格，仅显示关键列
   - 详情页通过独立页面展示
   - 选项卡可滚动或变为下拉菜单
   - 简化图表，专注于关键数据

## 特殊考虑

1. **性能优化**
   - 大量交易记录的高效加载（分页、虚拟滚动）
   - 复杂图表的渲染优化
   - 数据缓存和按需加载

2. **即时更新**
   - 定时刷新策略状态和当前价格
   - WebSocket推送新交易和重要事件
   - 更新时保持用户视图和交互状态

3. **错误处理**
   - 网络错误重试机制
   - 数据加载失败的友好提示
   - 操作错误的明确反馈
   - 错误日志记录和问题诊断

4. **数据导出**
   - 支持多种格式（CSV、Excel、PDF）
   - 大数据量的分批导出
   - 导出进度指示
   - 自定义导出内容

5. **用户体验优化**
   - 重要操作的确认机制
   - 复杂设置的向导模式
   - 上下文帮助提示
   - 操作历史和撤销功能
   - 快捷键支持

6. **无障碍性**
   - 适当的对比度和色彩选择
   - 键盘导航支持
   - 屏幕阅读器友好设计
   - 可调整的文本大小

7. **多策略类型适配**
   - 界面元素根据策略类型动态调整
   - 不同策略类型的特定参数显示
   - 统一的数据结构但灵活的展示形式